{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\metal\\\\OneDrive\\\\CursoMERN\\\\ProyectoCurso\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\metal\\\\OneDrive\\\\CursoMERN\\\\ProyectoCurso\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Form,Input,Button,Select,notification,Icon}from\"antd\";import{FontSizeOutlined}from\"@ant-design/icons\";import{addMenuApi}from\"../../../../api/menu\";import{getAccessTokenApi}from\"../../../../api/auth\";import\"./AddMenuWebForm.scss\";import{formatTimeStr}from\"antd/lib/statistic/utils\";export default function AddMenuWebForm(props){var setIsVisibleModal=props.setIsVisibleModal,setReloadMenuWeb=props.setReloadMenuWeb;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),menuWebData=_useState2[0],setMenuWebData=_useState2[1];var addMenu=function addMenu(event){var finalData={title:menuWebData.title,url:(menuWebData.http?menuWebData.http:\"http://\")+menuWebData.url};if(!finalData.title||!finalData.url||!menuWebData){notification[\"error\"]({message:\"Todos los campos son obligatorios.\"});}else{var accesToken=getAccessTokenApi();finalData.active=false;finalData.order=1000;addMenuApi(accesToken,finalData).then(function(response){notification[\"success\"]({message:response});setIsVisibleModal(false);setReloadMenuWeb(true);setMenuWebData({});finalData={};}).catch(function(){notification[\"error\"]({message:\"Error del servidor.\"});});}};return/*#__PURE__*/React.createElement(\"div\",{className:\"add-menu-web-form\"},/*#__PURE__*/React.createElement(AddForm,{menuWebData:menuWebData,setMenuWebData:setMenuWebData,addMenu:addMenu}));}function AddForm(props){var menuWebData=props.menuWebData,setMenuWebData=props.setMenuWebData,addMenu=props.addMenu;var Option=Select.Option;var selectBefore=/*#__PURE__*/React.createElement(Select,{defaultValue:\"http://\",style:{widht:90},onChange:function onChange(e){return setMenuWebData(_objectSpread({},menuWebData,{http:e}));}},/*#__PURE__*/React.createElement(Option,{value:\"http://\"},\"http://\"),/*#__PURE__*/React.createElement(Option,{value:\"https://\"},\"https://\"));return/*#__PURE__*/React.createElement(Form,{className:\"form-add\",onFinish:addMenu},/*#__PURE__*/React.createElement(Form.Item,null,/*#__PURE__*/React.createElement(Input,{prefix:/*#__PURE__*/React.createElement(FontSizeOutlined,{style:{color:\"rgba(0,0,0,0.25)\"}}),placeholder:\"Titulo\",value:menuWebData.title,onChange:function onChange(e){return setMenuWebData(_objectSpread({},menuWebData,{title:e.target.value}));}})),/*#__PURE__*/React.createElement(Form.Item,null,/*#__PURE__*/React.createElement(Input,{addonBefore:selectBefore,placeholder:\"URL\",value:menuWebData.url,onChange:function onChange(e){return setMenuWebData(_objectSpread({},menuWebData,{url:e.target.value}));}})),/*#__PURE__*/React.createElement(Form.Item,null,/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\",className:\"btn-submit\"},\"Crear Menu\")));}","map":{"version":3,"sources":["C:/Users/metal/OneDrive/CursoMERN/ProyectoCurso/client/src/components/Admin/MenuWeb/AddMenuWebForm/AddMenuWebForm.js"],"names":["React","useState","Form","Input","Button","Select","notification","Icon","FontSizeOutlined","addMenuApi","getAccessTokenApi","formatTimeStr","AddMenuWebForm","props","setIsVisibleModal","setReloadMenuWeb","menuWebData","setMenuWebData","addMenu","event","finalData","title","url","http","message","accesToken","active","order","then","response","catch","AddForm","Option","selectBefore","widht","e","color","target","value"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\r\nimport {Form,Input,Button,Select,notification,Icon} from \"antd\";\r\nimport  {FontSizeOutlined}  from \"@ant-design/icons\";\r\nimport {addMenuApi} from \"../../../../api/menu\";\r\nimport {getAccessTokenApi} from \"../../../../api/auth\"\r\n\r\nimport \"./AddMenuWebForm.scss\";\r\nimport { formatTimeStr } from \"antd/lib/statistic/utils\";\r\n\r\nexport default function AddMenuWebForm(props){\r\n\r\n  const{setIsVisibleModal, setReloadMenuWeb} = props;\r\n  const [menuWebData, setMenuWebData] = useState({});\r\n\r\n  const addMenu = event =>{\r\n   \r\n   let finalData = {\r\n     title: menuWebData.title,\r\n     url: (menuWebData.http ? menuWebData.http : \"http://\") + menuWebData.url\r\n   }\r\n\r\n   if (!finalData.title || !finalData.url || !menuWebData){\r\n     notification[\"error\"]({\r\n       message:\"Todos los campos son obligatorios.\"\r\n     })\r\n   }else{\r\n     const accesToken = getAccessTokenApi();\r\n     finalData.active = false;\r\n     finalData.order = 1000;\r\n\r\n     addMenuApi(accesToken,finalData).then(response =>{\r\n       notification[\"success\"]({\r\n         message: response\r\n       });\r\n       setIsVisibleModal(false);\r\n       setReloadMenuWeb(true);\r\n       setMenuWebData({});\r\n       finalData = {};\r\n     }).catch(()=>{\r\n       notification[\"error\"]({\r\n         message:\"Error del servidor.\"\r\n       });\r\n     });\r\n   }\r\n  }\r\n\r\n    return(\r\n        <div className=\"add-menu-web-form\">\r\n          <AddForm\r\n            menuWebData={menuWebData}\r\n            setMenuWebData={setMenuWebData}\r\n            addMenu= {addMenu}\r\n          />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction AddForm(props){\r\n    const {menuWebData,setMenuWebData,addMenu} = props;\r\n    const {Option} = Select;\r\n    const selectBefore = (\r\n        <Select\r\n          defaultValue=\"http://\"\r\n          style={{widht:90}}\r\n          onChange={e => setMenuWebData({...menuWebData,http:e})}\r\n        >\r\n            <Option value= \"http://\">http://</Option>\r\n            <Option value= \"https://\">https://</Option>\r\n        </Select>\r\n    )\r\n    return(\r\n      <Form className=\"form-add\" onFinish={addMenu}>\r\n          <Form.Item>\r\n              <Input\r\n                prefix={<FontSizeOutlined style={{color: \"rgba(0,0,0,0.25)\"}} />}\r\n                placeholder=\"Titulo\"\r\n                value={menuWebData.title}\r\n                onChange={e => setMenuWebData({...menuWebData,title:e.target.value})}\r\n              />\r\n          </Form.Item>\r\n\r\n          <Form.Item>\r\n            <Input\r\n              addonBefore={selectBefore}\r\n              placeholder=\"URL\"\r\n              value={menuWebData.url}\r\n                onChange={e => setMenuWebData({...menuWebData,url:e.target.value})}\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item>\r\n              <Button\r\n                type=\"primary\"\r\n                htmlType=\"submit\"\r\n                className=\"btn-submit\"\r\n              >\r\n                  Crear Menu\r\n              </Button>\r\n          </Form.Item>\r\n      </Form>\r\n        )\r\n}"]},"metadata":{},"sourceType":"module"}