{"ast":null,"code":"import React from'react';import{Link}from\"react-router-dom\";import{List,Button,Modal,notification}from\"antd\";import{EyeOutlined,EditOutlined,DeleteOutlined}from\"@ant-design/icons\";import{getAccessTokenApi}from\"../../../../api/auth\";import{deletePostApi}from\"../../../../api/post.js\";import\"./PostsList.scss\";var confirm=Modal.confirm;export default function PostsList(props){var posts=props.posts,setReloadPosts=props.setReloadPosts,editPost=props.editPost;var deletePost=function deletePost(post){var accesToken=getAccessTokenApi();confirm({title:\"Eliminado post\",content:\"\\xBFEsta seguro que desea eliminar el post \".concat(post.title,\"?\"),okText:\"Eliminar\",okType:\"danger\",cancelText:\"Cancelar\",onOk:function onOk(){deletePostApi(accesToken,post._id).then(function(response){var typeNotification=response.code===200?\"success\":\"warning\";notification[typeNotification]({message:response.message});setReloadPosts(true);}).catch(function(){notification[\"error\"]({message:\"Error del servidor, intentelo mas tarde\"});});}});};return/*#__PURE__*/React.createElement(\"div\",{className:\"posts-list\"},/*#__PURE__*/React.createElement(List,{dataSource:posts.docs,renderItem:function renderItem(post){return/*#__PURE__*/React.createElement(Post,{post:post,deletePost:deletePost,editPost:editPost});}}));}function Post(props){var post=props.post,deletePost=props.deletePost,editPost=props.editPost;return/*#__PURE__*/React.createElement(List.Item,{actions:[/*#__PURE__*/React.createElement(Link,{to:\"/blog/\".concat(post.url),target:\"_blank\"},/*#__PURE__*/React.createElement(Button,{type:\"primary\"},/*#__PURE__*/React.createElement(EyeOutlined,null))),/*#__PURE__*/React.createElement(Button,{type:\"primary\",onClick:function onClick(){return editPost(post);}},/*#__PURE__*/React.createElement(EditOutlined,null)),/*#__PURE__*/React.createElement(Button,{type:\"danger\",onClick:function onClick(){return deletePost(post);}},/*#__PURE__*/React.createElement(DeleteOutlined,null))]},/*#__PURE__*/React.createElement(List.Item.Meta,{title:post.title}));}","map":{"version":3,"sources":["C:/Users/metal/OneDrive/CursoMERN/ProyectoCurso/client/src/components/Admin/Blog/PostsList/PostsList.js"],"names":["React","Link","List","Button","Modal","notification","EyeOutlined","EditOutlined","DeleteOutlined","getAccessTokenApi","deletePostApi","confirm","PostsList","props","posts","setReloadPosts","editPost","deletePost","post","accesToken","title","content","okText","okType","cancelText","onOk","_id","then","response","typeNotification","code","message","catch","docs","Post","url"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {Link} from \"react-router-dom\"\r\nimport {List,Button,Modal,notification} from \"antd\";\r\nimport {EyeOutlined,EditOutlined,DeleteOutlined} from \"@ant-design/icons\";\r\nimport  {getAccessTokenApi} from \"../../../../api/auth\"\r\nimport {deletePostApi} from \"../../../../api/post.js\";\r\nimport \"./PostsList.scss\";\r\n\r\nconst {confirm} = Modal;\r\n\r\nexport default function PostsList(props) {\r\n   const {posts,setReloadPosts,editPost} = props;\r\n\r\n   const deletePost = post =>{\r\n       const accesToken = getAccessTokenApi();\r\n       confirm({\r\n           title:\"Eliminado post\",\r\n           content:`Â¿Esta seguro que desea eliminar el post ${post.title}?`,\r\n           okText:\"Eliminar\",\r\n           okType:\"danger\",\r\n           cancelText:\"Cancelar\",\r\n           onOk(){\r\n               deletePostApi(accesToken,post._id).then(response =>{\r\n                   const typeNotification = response.code ===200 ? \"success\": \"warning\";\r\n                   notification[typeNotification]({\r\n                       message: response.message\r\n                   })\r\n                   setReloadPosts(true);\r\n               }).catch( () =>{\r\n                   notification[\"error\"]({\r\n                       message:\"Error del servidor, intentelo mas tarde\"\r\n                   })\r\n               })\r\n           }\r\n       })\r\n   }\r\n\r\n   \r\n    return (\r\n        <div className=\"posts-list\">\r\n           <List \r\n             dataSource={posts.docs}\r\n             renderItem={post => <Post post={post} deletePost={deletePost} editPost={editPost} />}\r\n           />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Post(props){\r\n const {post,deletePost,editPost} = props;\r\n\r\n return(\r\n    <List.Item\r\n        actions={[\r\n            <Link to={`/blog/${post.url}`} target=\"_blank\">\r\n              <Button\r\n                 type=\"primary\"\r\n               >   \r\n                    <EyeOutlined/>\r\n             </Button>\r\n            </Link>,\r\n            <Button type=\"primary\" onClick={() => editPost(post)}>\r\n                <EditOutlined/>\r\n            </Button>,\r\n             <Button type=\"danger\" onClick={() =>deletePost(post)}>\r\n             <DeleteOutlined/>\r\n         </Button>\r\n        ]}\r\n    >\r\n        <List.Item.Meta \r\n            title={post.title}\r\n\r\n        />\r\n    </List.Item>\r\n        \r\n \r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}