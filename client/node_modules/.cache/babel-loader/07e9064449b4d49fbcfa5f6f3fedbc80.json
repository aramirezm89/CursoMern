{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Antonio\\\\OneDrive\\\\CursoMERN\\\\ProyectoCurso\\\\client\\\\src\\\\components\\\\Admin\\\\Courses\\\\AddEditCourseForm\\\\AddEditCourseForm.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Form, Button, Input, notification } from \"antd\";\nimport { KeyOutlined, GiftOutlined, DollarOutlined, LinkOutlined } from \"@ant-design/icons\";\nimport { addCourseApi, updateCourseApi } from \"../../../../api/course\";\nimport \"./AddEditCourseForm.scss\";\nimport { getAccessTokenApi } from '../../../../api/auth';\nexport default function AddEditCourseForm(props) {\n  const {\n    setIsVisibleModal,\n    setReloadCourses,\n    courses\n  } = props;\n  const [courseData, setCourseData] = useState({});\n  useEffect(() => {\n    courses ? setCourseData(courses) : setCourseData({});\n  }, [courses]);\n\n  const addCourse = () => {\n    if (!courseData.idCourse) {\n      notification[\"error\"]({\n        message: \"La id del curso es obligatoria.\"\n      });\n    } else {\n      const accesToken = getAccessTokenApi();\n      addCourseApi(accesToken, courseData).then(response => {\n        const typeNotification = response.code === 200 ? \"success\" : \"warning\";\n        notification[typeNotification]({\n          message: response.message\n        });\n        setIsVisibleModal(false);\n        setReloadCourses(true);\n        setCourseData({});\n      }).catch(() => {\n        notification[\"error\"]({\n          message: \"Error del servidor, intentelo más tarde\"\n        });\n      });\n    }\n  };\n\n  const updateCourse = () => {\n    const accesToken = getAccessTokenApi();\n    updateCourseApi(accesToken, courses._id, courseData).then(response => {\n      const typeNotification = response.code === 200 ? \"success\" : \"warning\";\n      notification[typeNotification]({\n        message: response.message\n      });\n      setIsVisibleModal(false);\n      setReloadCourses(true);\n      setCourseData({});\n    }).catch(() => {\n      notification[\"error\"]({\n        message: \"Error del servidor, intentelo más tarde.\"\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-Edit-course-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AddEditForm, {\n    courses: courses,\n    addCourse: addCourse,\n    updateCourse: updateCourse,\n    setCourseData: setCourseData,\n    courseData: courseData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }));\n}\n\nfunction AddEditForm(props) {\n  const {\n    addCourse,\n    updateCourse,\n    courses,\n    courseData,\n    setCourseData\n  } = props;\n  return /*#__PURE__*/React.createElement(Form, {\n    className: \"form-add-edit\",\n    onFinish: courses ? () => updateCourse() : () => addCourse(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(KeyOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 33\n      }\n    }),\n    placeholder: \"ID del curso\",\n    value: courseData.idCourse,\n    onChange: e => setCourseData({ ...courseData,\n      idCourse: e.target.value\n    }),\n    disabled: courses ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(LinkOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 33\n      }\n    }),\n    placeholder: \"URL del curso\",\n    value: courseData.link,\n    onChange: e => setCourseData({ ...courseData,\n      link: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(GiftOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 33\n      }\n    }),\n    placeholder: \"Cupon de descuento\",\n    value: courseData.coupon,\n    onChange: e => setCourseData({ ...courseData,\n      coupon: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(DollarOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 33\n      }\n    }),\n    placeholder: \"Precio del curso\",\n    value: courseData.price,\n    onChange: e => setCourseData({ ...courseData,\n      price: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: \"btn-submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }, courses ? \"Actualizar curso\" : \"Crear curso\")));\n}","map":{"version":3,"sources":["C:/Users/Antonio/OneDrive/CursoMERN/ProyectoCurso/client/src/components/Admin/Courses/AddEditCourseForm/AddEditCourseForm.js"],"names":["React","useState","useEffect","Form","Button","Input","notification","KeyOutlined","GiftOutlined","DollarOutlined","LinkOutlined","addCourseApi","updateCourseApi","getAccessTokenApi","AddEditCourseForm","props","setIsVisibleModal","setReloadCourses","courses","courseData","setCourseData","addCourse","idCourse","message","accesToken","then","response","typeNotification","code","catch","updateCourse","_id","AddEditForm","e","target","value","link","coupon","price"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport {Form,Button,Input,notification} from \"antd\";\r\nimport {KeyOutlined,GiftOutlined,DollarOutlined,LinkOutlined} from \"@ant-design/icons\";\r\nimport {addCourseApi, updateCourseApi } from \"../../../../api/course\"\r\n\r\nimport \"./AddEditCourseForm.scss\";\r\nimport { getAccessTokenApi } from '../../../../api/auth';\r\n\r\nexport default function AddEditCourseForm(props) {\r\n    const {setIsVisibleModal, setReloadCourses, courses} = props;\r\n    const [courseData, setCourseData] = useState({});\r\n\r\n    useEffect(() =>{\r\n       courses ? setCourseData(courses) : setCourseData({});\r\n    },[courses])\r\n\r\n\r\n    const addCourse = () =>{\r\n       \r\n        if(!courseData.idCourse){\r\n            notification[\"error\"]({\r\n                message:\"La id del curso es obligatoria.\"\r\n            })\r\n        }else{\r\n            const accesToken =  getAccessTokenApi();\r\n            addCourseApi(accesToken, courseData).then(response =>{\r\n                const typeNotification = response.code === 200 ? \"success\" : \"warning\"\r\n\r\n                notification[typeNotification]({\r\n                    message: response.message\r\n                })\r\n\r\n                setIsVisibleModal(false);\r\n                setReloadCourses(true);\r\n                setCourseData({});\r\n            }).catch( () =>{\r\n                notification[\"error\"]({\r\n                    message:\"Error del servidor, intentelo más tarde\"\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    const updateCourse = () =>{\r\n       const accesToken = getAccessTokenApi();\r\n\r\n       updateCourseApi(accesToken,courses._id,courseData).then(response =>{\r\n           const typeNotification = response.code === 200 ? \"success\" :\"warning\";\r\n\r\n           notification[typeNotification]({\r\n                message: response.message\r\n           })\r\n           setIsVisibleModal(false);\r\n           setReloadCourses(true);\r\n           setCourseData({});\r\n       })\r\n       .catch( () =>{\r\n           notification[\"error\"]({\r\n               message:\"Error del servidor, intentelo más tarde.\"\r\n           })\r\n       })\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"add-Edit-course-form\">\r\n            <AddEditForm\r\n                courses={courses}\r\n                addCourse={addCourse}\r\n                updateCourse={updateCourse}\r\n                setCourseData = {setCourseData}\r\n                courseData = {courseData}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction AddEditForm(props){\r\n    const {addCourse,updateCourse,courses,courseData,setCourseData} = props;\r\n  \r\n    return(\r\n            <Form \r\n            className=\"form-add-edit\"\r\n            onFinish={courses ?() => updateCourse() : ()=> addCourse()}\r\n            >\r\n                <Form.Item>\r\n                    <Input \r\n                        prefix={<KeyOutlined/>}\r\n                        placeholder=\"ID del curso\"\r\n                        value={courseData.idCourse}\r\n                        onChange={e => setCourseData({...courseData, idCourse: e.target.value})}\r\n                        disabled={courses ?true : false}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Input \r\n                        prefix={<LinkOutlined/>}\r\n                        placeholder=\"URL del curso\"\r\n                        value={courseData.link}\r\n                        onChange={e => setCourseData({...courseData, link:e.target.value})}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Input \r\n                        prefix={<GiftOutlined/>}\r\n                        placeholder=\"Cupon de descuento\"\r\n                        value={courseData.coupon}\r\n                        onChange={ e => setCourseData({...courseData, coupon: e.target.value})}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Input \r\n                        prefix={<DollarOutlined/>}\r\n                        placeholder=\"Precio del curso\"\r\n                        value={courseData.price}\r\n                        onChange={ e => setCourseData({...courseData, price: e.target.value})}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button\r\n                     type=\"primary\"\r\n                     htmlType=\"submit\"\r\n                     className=\"btn-submit\"\r\n                    >\r\n                        {courses ? \"Actualizar curso\" : \"Crear curso\"}\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        )\r\n\r\n}"]},"metadata":{},"sourceType":"module"}