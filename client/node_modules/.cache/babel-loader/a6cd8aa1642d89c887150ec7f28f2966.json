{"ast":null,"code":"import { basePath, apiVersion } from \"./config\";\nimport { ACCESS_TOKEN, REFRESH_TOKEN } from \"../utils/constants\";\nimport jwtDecode from \"jwt-decode\";\nexport function getAccessToken() {\n  const accessToken = localStorage.getItem(ACCESS_TOKEN);\n\n  if (!accessToken || accessToken == \"null\") {\n    return null;\n  }\n\n  return willExpireToken(accessToken) ? null : accessToken;\n}\nexport function getRefreshToken() {\n  const refreshToken = localStorage.getItem(REFRESH_TOKEN);\n\n  if (!refreshToken || refreshToken == \"null\") {\n    return null;\n  }\n\n  return willExpireToken(refreshToken) ? null : refreshToken;\n}\n\nfunction willExpireToken(token) {\n  const seconds = 60;\n  const metaToken = jwtDecode(token);\n  const {\n    exp\n  } = metaToken;\n  const exppp = exp + 1000000000000000000000000000000000000000000000000000000;\n  const now = (Date.now() + seconds) / 1000;\n\n  if (now > exppp) {\n    return true;\n  } else {\n    return false;\n  }\n}","map":{"version":3,"sources":["C:/Users/Antonio/OneDrive/CursoMERN/ProyectoCurso/client/src/api/auth.js"],"names":["basePath","apiVersion","ACCESS_TOKEN","REFRESH_TOKEN","jwtDecode","getAccessToken","accessToken","localStorage","getItem","willExpireToken","getRefreshToken","refreshToken","token","seconds","metaToken","exp","exppp","now","Date"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,UAAnB,QAAqC,UAArC;AACA,SAASC,YAAT,EAAuBC,aAAvB,QAA4C,oBAA5C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAO,SAASC,cAAT,GAA0B;AAC/B,QAAMC,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqBN,YAArB,CAApB;;AAEA,MAAI,CAACI,WAAD,IAAgBA,WAAW,IAAI,MAAnC,EAA2C;AACzC,WAAO,IAAP;AACD;;AACD,SAAOG,eAAe,CAACH,WAAD,CAAf,GAA+B,IAA/B,GAAsCA,WAA7C;AACD;AAED,OAAO,SAASI,eAAT,GAA2B;AAChC,QAAMC,YAAY,GAAGJ,YAAY,CAACC,OAAb,CAAqBL,aAArB,CAArB;;AACA,MAAI,CAACQ,YAAD,IAAiBA,YAAY,IAAI,MAArC,EAA6C;AAC3C,WAAO,IAAP;AACD;;AACD,SAAOF,eAAe,CAACE,YAAD,CAAf,GAAgC,IAAhC,GAAuCA,YAA9C;AACD;;AAED,SAASF,eAAT,CAAyBG,KAAzB,EAAgC;AAC9B,QAAMC,OAAO,GAAG,EAAhB;AACA,QAAMC,SAAS,GAAGV,SAAS,CAACQ,KAAD,CAA3B;AACA,QAAM;AAAEG,IAAAA;AAAF,MAAUD,SAAhB;AACA,QAAME,KAAK,GAAGD,GAAG,GAAG,uDAApB;AACA,QAAME,GAAG,GAAG,CAACC,IAAI,CAACD,GAAL,KAAaJ,OAAd,IAAyB,IAArC;;AACA,MAAII,GAAG,GAAGD,KAAV,EAAiB;AACf,WAAO,IAAP;AACD,GAFD,MAEO;AACL,WAAO,KAAP;AACD;AACF","sourcesContent":["import { basePath, apiVersion } from \"./config\";\r\nimport { ACCESS_TOKEN, REFRESH_TOKEN } from \"../utils/constants\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nexport function getAccessToken() {\r\n  const accessToken = localStorage.getItem(ACCESS_TOKEN);\r\n\r\n  if (!accessToken || accessToken == \"null\") {\r\n    return null;\r\n  }\r\n  return willExpireToken(accessToken) ? null : accessToken;\r\n}\r\n\r\nexport function getRefreshToken() {\r\n  const refreshToken = localStorage.getItem(REFRESH_TOKEN);\r\n  if (!refreshToken || refreshToken == \"null\") {\r\n    return null;\r\n  }\r\n  return willExpireToken(refreshToken) ? null : refreshToken;\r\n}\r\n\r\nfunction willExpireToken(token) {\r\n  const seconds = 60;\r\n  const metaToken = jwtDecode(token);\r\n  const { exp } = metaToken;\r\n  const exppp = exp + 1000000000000000000000000000000000000000000000000000000;\r\n  const now = (Date.now() + seconds) / 1000;\r\n  if (now > exppp) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}