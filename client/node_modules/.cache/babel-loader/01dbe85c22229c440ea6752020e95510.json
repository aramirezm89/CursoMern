{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Antonio\\\\OneDrive\\\\CursoMERN\\\\ProyectoCurso\\\\client\\\\src\\\\components\\\\Web\\\\Courses\\\\CoursesList\\\\CoursesList.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Row, Col, Card, Button, Rate, notification } from \"antd\";\nimport { getCourseDataUdemyApi } from \"../../../../api/course\";\nimport \"./CoursesList.scss\";\nexport default function CoursesList(props) {\n  const {\n    courses\n  } = props;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"courses-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 12\n    }\n  }, courses.map(course => /*#__PURE__*/React.createElement(Col, {\n    md: 8,\n    className: \"courses-list-course\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Course, {\n    key: course._id,\n    course: course,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 23\n    }\n  })))));\n}\n\nfunction Course(props) {\n  const {\n    course\n  } = props;\n  const {\n    Meta\n  } = Card;\n  const [courseInfo, setCourseInfo] = useState({});\n  const [urlCourse, setUrlCourse] = useState(\"\");\n  useEffect(() => {\n    getCourseDataUdemyApi(course.idCourse).then(response => {\n      if (response.code !== 200) {\n        notification[\"warning\"]({\n          message: response.message\n        });\n      } else {\n        setCourseInfo(response.data);\n        mountUrl(response.data.url);\n      }\n    }).catch(() => {\n      notification[\"error\"]({\n        message: \"Error del servidor, intentelo más tarde.\"\n      });\n    });\n  }, [course]);\n\n  const mountUrl = url => {\n    if (!course.link) {\n      const baseUrl = `https://www.udemy.com${url}`;\n      const finalUrl = baseUrl + (course.coupon ? `?couponCode=${course.coupon}` : \"\");\n      setUrlCourse(finalUrl);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"a\", {\n    href: urlCourse,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    cover: /*#__PURE__*/React.createElement(\"img\", {\n      src: courseInfo.image_480x270,\n      alt: courseInfo.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 20\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Meta, {\n    title: courseInfo.title,\n    description: courseInfo.headline,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 14\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 14\n    }\n  }, \"Entrar al curso\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"courses-list-course-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, course.price ? `${course.price}` : courseInfo.price), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Rate, {\n    disabled: true,\n    defaultValue: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  })))));\n}","map":{"version":3,"sources":["C:/Users/Antonio/OneDrive/CursoMERN/ProyectoCurso/client/src/components/Web/Courses/CoursesList/CoursesList.js"],"names":["React","useState","useEffect","Row","Col","Card","Button","Rate","notification","getCourseDataUdemyApi","CoursesList","props","courses","map","course","_id","Course","Meta","courseInfo","setCourseInfo","urlCourse","setUrlCourse","idCourse","then","response","code","message","data","mountUrl","url","catch","link","baseUrl","finalUrl","coupon","image_480x270","title","headline","price"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,SAAQC,GAAR,EAAYC,GAAZ,EAAgBC,IAAhB,EAAqBC,MAArB,EAA4BC,IAA5B,EAAiCC,YAAjC,QAAoD,MAApD;AACA,SAAQC,qBAAR,QAAoC,wBAApC;AAEA,OAAO,oBAAP;AACA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AACvC,QAAM;AAACC,IAAAA;AAAD,MAAYD,KAAlB;AACA,sBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACIC,OAAO,CAACC,GAAR,CAAYC,MAAM,iBACf,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAY,IAAA,SAAS,EAAC,qBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,GAAG,EAAEA,MAAM,CAACC,GAApB;AAAyB,IAAA,MAAM,EAAED,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADH,CADJ,CADH,CADJ;AAWH;;AAED,SAASE,MAAT,CAAgBL,KAAhB,EAAsB;AAClB,QAAM;AAACG,IAAAA;AAAD,MAAWH,KAAjB;AACA,QAAM;AAACM,IAAAA;AAAD,MAASZ,IAAf;AACA,QAAM,CAACa,UAAD,EAAaC,aAAb,IAA8BlB,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACmB,SAAD,EAAYC,YAAZ,IAA4BpB,QAAQ,CAAC,EAAD,CAA1C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACbO,IAAAA,qBAAqB,CAACK,MAAM,CAACQ,QAAR,CAArB,CAAuCC,IAAvC,CAA4CC,QAAQ,IAAG;AACjD,UAAGA,QAAQ,CAACC,IAAT,KAAiB,GAApB,EAAwB;AACpBjB,QAAAA,YAAY,CAAC,SAAD,CAAZ,CAAwB;AACpBkB,UAAAA,OAAO,EAAEF,QAAQ,CAACE;AADE,SAAxB;AAGH,OAJD,MAIK;AACDP,QAAAA,aAAa,CAACK,QAAQ,CAACG,IAAV,CAAb;AACAC,QAAAA,QAAQ,CAACJ,QAAQ,CAACG,IAAT,CAAcE,GAAf,CAAR;AACH;AACN,KATD,EASGC,KATH,CASS,MAAK;AACTtB,MAAAA,YAAY,CAAC,OAAD,CAAZ,CAAsB;AAClBkB,QAAAA,OAAO,EAAC;AADU,OAAtB;AAGJ,KAbD;AAcF,GAfQ,EAeN,CAACZ,MAAD,CAfM,CAAT;;AAiBA,QAAMc,QAAQ,GAAGC,GAAG,IAAG;AACnB,QAAG,CAACf,MAAM,CAACiB,IAAX,EAAgB;AACZ,YAAMC,OAAO,GAAI,wBAAuBH,GAAI,EAA5C;AACA,YAAMI,QAAQ,GAAGD,OAAO,IAAIlB,MAAM,CAACoB,MAAP,GAAiB,eAAcpB,MAAM,CAACoB,MAAO,EAA7C,GAAiD,EAArD,CAAxB;AACAb,MAAAA,YAAY,CAACY,QAAD,CAAZ;AACH;AACJ,GAND;;AAQA,sBACI;AAAG,IAAA,IAAI,EAAEb,SAAT;AAAoB,IAAA,MAAM,EAAC,QAA3B;AAAoC,IAAA,GAAG,EAAC,qBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AACA,IAAA,KAAK,eAAE;AAAK,MAAA,GAAG,EAAEF,UAAU,CAACiB,aAArB;AAAoC,MAAA,GAAG,EAAEjB,UAAU,CAACkB,KAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGC,oBAAC,IAAD;AACG,IAAA,KAAK,EAAElB,UAAU,CAACkB,KADrB;AAEG,IAAA,WAAW,EAAElB,UAAU,CAACmB,QAF3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHD,eAOC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAPD,eAQC;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOvB,MAAM,CAACwB,KAAP,GAAgB,GAAExB,MAAM,CAACwB,KAAM,EAA/B,GAAkCpB,UAAU,CAACoB,KAApD,CADH,eAEO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAE,IAAhB;AAAsB,IAAA,YAAY,EAAE,CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAFP,CARD,CADJ,CADJ;AAmBH","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport {Row,Col,Card,Button,Rate,notification} from \"antd\";\r\nimport {getCourseDataUdemyApi} from \"../../../../api/course\"\r\n\r\nimport \"./CoursesList.scss\";\r\nexport default function CoursesList(props) {\r\n    const {courses} = props;\r\n    return (\r\n        <div className=\"courses-list\">\r\n           <Row>\r\n              {courses.map(course => (\r\n                  <Col md={8} className=\"courses-list-course\">\r\n                      <Course key={course._id} course={course} />\r\n                  </Col>\r\n              ))}\r\n           </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Course(props){\r\n    const {course} = props;\r\n    const {Meta} = Card;\r\n    const [courseInfo, setCourseInfo] = useState({});\r\n    const [urlCourse, setUrlCourse] = useState(\"\");\r\n   \r\n    useEffect(() => {\r\n       getCourseDataUdemyApi(course.idCourse).then(response =>{\r\n             if(response.code !==200){\r\n                 notification[\"warning\"]({\r\n                     message: response.message\r\n                 })\r\n             }else{\r\n                 setCourseInfo(response.data)\r\n                 mountUrl(response.data.url);\r\n             }\r\n       }).catch(() =>{\r\n            notification[\"error\"]({\r\n                message:\"Error del servidor, intentelo más tarde.\"\r\n            })\r\n       })\r\n    }, [course]);\r\n\r\n    const mountUrl = url =>{\r\n        if(!course.link){\r\n            const baseUrl = `https://www.udemy.com${url}`;\r\n            const finalUrl = baseUrl + (course.coupon ? `?couponCode=${course.coupon}` : \"\" );\r\n            setUrlCourse(finalUrl);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <a href={urlCourse} target=\"_blank\" rel=\"noopener noreferrer\"> \r\n            <Card \r\n            cover={<img src={courseInfo.image_480x270} alt={courseInfo.title}/>}\r\n            >\r\n             <Meta \r\n                title={courseInfo.title}\r\n                description={courseInfo.headline}\r\n             />\r\n             <Button>Entrar al curso</Button>\r\n             <div className=\"courses-list-course-footer\">\r\n                <span>{course.price ? `${course.price}`: courseInfo.price}</span>\r\n                    <div>\r\n                        <Rate disabled={true} defaultValue={5}/>\r\n                    </div>\r\n             </div>\r\n            </Card>\r\n        </a>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}