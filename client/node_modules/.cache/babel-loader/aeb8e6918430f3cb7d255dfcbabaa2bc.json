{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Antonio\\\\OneDrive\\\\CursoMERN\\\\ProyectoCurso\\\\client\\\\src\\\\components\\\\Admin\\\\Blog\\\\PostsList\\\\PostsList.js\";\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\nimport { List, Button, Modal, notification } from \"antd\";\nimport { EyeOutlined, EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport { getAccessTokenApi } from \"../../../../api/auth\";\nimport { deletePostApi } from \"../../../../api/post.js\";\nimport \"./PostsList.scss\";\nconst {\n  confirm\n} = Modal;\nexport default function PostsList(props) {\n  const {\n    posts,\n    setReloadPosts,\n    editPost\n  } = props;\n\n  const deletePost = post => {\n    const accesToken = getAccessTokenApi();\n    confirm({\n      title: \"Eliminado post\",\n      content: `¿Esta seguro que desea eliminar el post ${post.title}?`,\n      okText: \"Eliminar\",\n      okType: \"danger\",\n      cancelText: \"Cancelar\",\n\n      onOk() {\n        deletePostApi(accesToken, post._id).then(response => {\n          const typeNotification = response.code === 200 ? \"success\" : \"warning\";\n          notification[typeNotification]({\n            message: response.message\n          });\n          setReloadPosts(true);\n        }).catch(() => {\n          notification[\"error\"]({\n            message: \"Error del servidor, intentelo mas tarde\"\n          });\n        });\n      }\n\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"posts-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    dataSource: posts.docs,\n    renderItem: post => /*#__PURE__*/React.createElement(Post, {\n      post: post,\n      deletePost: deletePost,\n      editPost: editPost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 34\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 12\n    }\n  }));\n}\n\nfunction Post(props) {\n  const {\n    post,\n    deletePost,\n    editPost\n  } = props;\n  return /*#__PURE__*/React.createElement(List.Item, {\n    actions: [/*#__PURE__*/React.createElement(Link, {\n      to: `/blog/${post.url}`,\n      target: \"_blank\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(EyeOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      onCLick: () => editPost(post),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(EditOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      type: \"danger\",\n      onClick: () => deletePost(post),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(DeleteOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 14\n      }\n    }))],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(List.Item.Meta, {\n    title: post.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Users/Antonio/OneDrive/CursoMERN/ProyectoCurso/client/src/components/Admin/Blog/PostsList/PostsList.js"],"names":["React","Link","List","Button","Modal","notification","EyeOutlined","EditOutlined","DeleteOutlined","getAccessTokenApi","deletePostApi","confirm","PostsList","props","posts","setReloadPosts","editPost","deletePost","post","accesToken","title","content","okText","okType","cancelText","onOk","_id","then","response","typeNotification","code","message","catch","docs","Post","url"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SAAQC,IAAR,EAAaC,MAAb,EAAoBC,KAApB,EAA0BC,YAA1B,QAA6C,MAA7C;AACA,SAAQC,WAAR,EAAoBC,YAApB,EAAiCC,cAAjC,QAAsD,mBAAtD;AACA,SAASC,iBAAT,QAAiC,sBAAjC;AACA,SAAQC,aAAR,QAA4B,yBAA5B;AACA,OAAO,kBAAP;AAEA,MAAM;AAACC,EAAAA;AAAD,IAAYP,KAAlB;AAEA,eAAe,SAASQ,SAAT,CAAmBC,KAAnB,EAA0B;AACtC,QAAM;AAACC,IAAAA,KAAD;AAAOC,IAAAA,cAAP;AAAsBC,IAAAA;AAAtB,MAAkCH,KAAxC;;AAEA,QAAMI,UAAU,GAAGC,IAAI,IAAG;AACtB,UAAMC,UAAU,GAAGV,iBAAiB,EAApC;AACAE,IAAAA,OAAO,CAAC;AACJS,MAAAA,KAAK,EAAC,gBADF;AAEJC,MAAAA,OAAO,EAAE,2CAA0CH,IAAI,CAACE,KAAM,GAF1D;AAGJE,MAAAA,MAAM,EAAC,UAHH;AAIJC,MAAAA,MAAM,EAAC,QAJH;AAKJC,MAAAA,UAAU,EAAC,UALP;;AAMJC,MAAAA,IAAI,GAAE;AACFf,QAAAA,aAAa,CAACS,UAAD,EAAYD,IAAI,CAACQ,GAAjB,CAAb,CAAmCC,IAAnC,CAAwCC,QAAQ,IAAG;AAC/C,gBAAMC,gBAAgB,GAAGD,QAAQ,CAACE,IAAT,KAAiB,GAAjB,GAAuB,SAAvB,GAAkC,SAA3D;AACAzB,UAAAA,YAAY,CAACwB,gBAAD,CAAZ,CAA+B;AAC3BE,YAAAA,OAAO,EAAEH,QAAQ,CAACG;AADS,WAA/B;AAGAhB,UAAAA,cAAc,CAAC,IAAD,CAAd;AACH,SAND,EAMGiB,KANH,CAMU,MAAK;AACX3B,UAAAA,YAAY,CAAC,OAAD,CAAZ,CAAsB;AAClB0B,YAAAA,OAAO,EAAC;AADU,WAAtB;AAGH,SAVD;AAWH;;AAlBG,KAAD,CAAP;AAoBH,GAtBD;;AAyBC,sBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG,oBAAC,IAAD;AACE,IAAA,UAAU,EAAEjB,KAAK,CAACmB,IADpB;AAEE,IAAA,UAAU,EAAEf,IAAI,iBAAI,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAEA,IAAZ;AAAkB,MAAA,UAAU,EAAED,UAA9B;AAA0C,MAAA,QAAQ,EAAED,QAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,CADJ;AAQH;;AAED,SAASkB,IAAT,CAAcrB,KAAd,EAAoB;AACnB,QAAM;AAACK,IAAAA,IAAD;AAAMD,IAAAA,UAAN;AAAiBD,IAAAA;AAAjB,MAA6BH,KAAnC;AAEA,sBACG,oBAAC,IAAD,CAAM,IAAN;AACI,IAAA,OAAO,EAAE,cACL,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAG,SAAQK,IAAI,CAACiB,GAAI,EAA5B;AAA+B,MAAA,MAAM,EAAC,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AACG,MAAA,IAAI,EAAC,SADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGM,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHN,CADF,CADK,eAQL,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,OAAO,EAAE,MAAMnB,QAAQ,CAACE,IAAD,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CARK,eAWJ,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,OAAO,EAAE,MAAKD,UAAU,CAACC,IAAD,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CAXI,CADb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAiBI,oBAAC,IAAD,CAAM,IAAN,CAAW,IAAX;AACI,IAAA,KAAK,EAAEA,IAAI,CAACE,KADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjBJ,CADH;AA0BA","sourcesContent":["import React from 'react';\r\nimport {Link} from \"react-router-dom\"\r\nimport {List,Button,Modal,notification} from \"antd\";\r\nimport {EyeOutlined,EditOutlined,DeleteOutlined} from \"@ant-design/icons\";\r\nimport  {getAccessTokenApi} from \"../../../../api/auth\"\r\nimport {deletePostApi} from \"../../../../api/post.js\";\r\nimport \"./PostsList.scss\";\r\n\r\nconst {confirm} = Modal;\r\n\r\nexport default function PostsList(props) {\r\n   const {posts,setReloadPosts,editPost} = props;\r\n\r\n   const deletePost = post =>{\r\n       const accesToken = getAccessTokenApi();\r\n       confirm({\r\n           title:\"Eliminado post\",\r\n           content:`¿Esta seguro que desea eliminar el post ${post.title}?`,\r\n           okText:\"Eliminar\",\r\n           okType:\"danger\",\r\n           cancelText:\"Cancelar\",\r\n           onOk(){\r\n               deletePostApi(accesToken,post._id).then(response =>{\r\n                   const typeNotification = response.code ===200 ? \"success\": \"warning\";\r\n                   notification[typeNotification]({\r\n                       message: response.message\r\n                   })\r\n                   setReloadPosts(true);\r\n               }).catch( () =>{\r\n                   notification[\"error\"]({\r\n                       message:\"Error del servidor, intentelo mas tarde\"\r\n                   })\r\n               })\r\n           }\r\n       })\r\n   }\r\n\r\n   \r\n    return (\r\n        <div className=\"posts-list\">\r\n           <List \r\n             dataSource={posts.docs}\r\n             renderItem={post => <Post post={post} deletePost={deletePost} editPost={editPost} />}\r\n           />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Post(props){\r\n const {post,deletePost,editPost} = props;\r\n\r\n return(\r\n    <List.Item\r\n        actions={[\r\n            <Link to={`/blog/${post.url}`} target=\"_blank\">\r\n              <Button\r\n                 type=\"primary\"\r\n               >   \r\n                    <EyeOutlined/>\r\n             </Button>\r\n            </Link>,\r\n            <Button type=\"primary\" onCLick={() => editPost(post)}>\r\n                <EditOutlined/>\r\n            </Button>,\r\n             <Button type=\"danger\" onClick={() =>deletePost(post)}>\r\n             <DeleteOutlined/>\r\n         </Button>\r\n        ]}\r\n    >\r\n        <List.Item.Meta \r\n            title={post.title}\r\n\r\n        />\r\n    </List.Item>\r\n        \r\n \r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}