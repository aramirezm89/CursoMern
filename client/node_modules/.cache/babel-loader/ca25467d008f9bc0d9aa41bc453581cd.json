{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Antonio\\\\OneDrive\\\\CursoMERN\\\\ProyectoCurso\\\\client\\\\src\\\\components\\\\Users\\\\AddUserForm\\\\AddUserForm.js\";\nimport React, { useState } from \"react\";\nimport { Form, Input, Select, Button, Row, Col, notification } from \"antd\";\nimport { UserAddOutlined, LockOutlined, MailOutlined } from \"../../../../node_modules/@ant-design/icons\";\nimport { singUpAdminApi } from \"../../../api/user\";\nimport { getAccessTokenApi } from \"../../../api/auth\";\nimport { emailValidation, minLengthValidation } from \"../../../utils/formValidation\";\nimport \"./AddUserForm.scss\";\nexport default function AddUserForm(props) {\n  const {\n    setIsVisibleModal,\n    setReloadUsers\n  } = props;\n  const [userData, setUserData] = useState({});\n\n  const addUser = () => {\n    if (!userData.name || !userData.lastName || !userData.email || !userData.password || !userData.role) {\n      notification[\"error\"]({\n        message: \"Todos los campos son obligatorios.\"\n      });\n    } else if (userData.password !== userData.repeatPassword) {\n      notification[\"error\"]({\n        message: \"Las contrase単as deben ser iguales.\"\n      });\n    } else {\n      const accessToken = getAccessTokenApi();\n      singUpAdminApi(accessToken, userData).then(response => {\n        notification[\"success\"]({\n          message: response\n        });\n        setIsVisibleModal(false);\n        setReloadUsers(true);\n        setUserData({});\n      }).catch(err => {\n        notification[\"error\"]({\n          message: err\n        });\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-user-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AddForm, {\n    userData: userData,\n    setUserData: setUserData,\n    addUser: addUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction AddForm(props) {\n  const {\n    userData,\n    setUserData,\n    addUser\n  } = props;\n  const {\n    Option\n  } = Select;\n  const [formValid, setFormValid] = useState({\n    email: false,\n    password: false,\n    repeatPassword: false\n  });\n\n  const inputValidation = e => {\n    const {\n      type,\n      name\n    } = e.target;\n\n    if (type === \"email\") {\n      setFormValid({ ...formValid,\n        [name]: emailValidation(e.target)\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Form, {\n    className: \"form-add\",\n    onFinish: addUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(UserAddOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 23\n      }\n    }),\n    placeholder: \"Nombre\",\n    value: userData.name,\n    onChange: e => {\n      inputValidation;\n      setUserData({ ...userData,\n        name: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    span: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(UserAddOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 23\n      }\n    }),\n    placeholder: \"Apeliido\",\n    value: userData.lastName,\n    onChange: e => {\n      setUserData({ ...userData,\n        lastName: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(Row, {\n    gutter: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(MailOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 23\n      }\n    }),\n    type: \"email\",\n    placeholder: \"Email\",\n    value: userData.email,\n    onChange: e => {\n      setUserData({ ...userData,\n        email: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    span: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    placeholder: \"Selecciona un rol\",\n    onChange: e => {\n      setUserData({ ...userData,\n        role: e\n      });\n    },\n    value: userData.role,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"admin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, \"Administrador\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"editor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, \"Editor\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"reviewer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, \"Revisor\"))))), /*#__PURE__*/React.createElement(Row, {\n    gutter: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    prefix: /*#__PURE__*/React.createElement(LockOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 23\n      }\n    }),\n    placeholder: \"Contrase\\xF1a\",\n    value: userData.password,\n    onChange: e => {\n      setUserData({ ...userData,\n        password: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    span: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    prefix: /*#__PURE__*/React.createElement(LockOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 23\n      }\n    }),\n    placeholder: \"Repita su contrase\\xF1a\",\n    value: userData.repeatPassword,\n    onChange: e => {\n      setUserData({ ...userData,\n        repeatPassword: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: \"btn-submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }\n  }, \"Crear Usuario\")));\n}","map":{"version":3,"sources":["C:/Users/Antonio/OneDrive/CursoMERN/ProyectoCurso/client/src/components/Users/AddUserForm/AddUserForm.js"],"names":["React","useState","Form","Input","Select","Button","Row","Col","notification","UserAddOutlined","LockOutlined","MailOutlined","singUpAdminApi","getAccessTokenApi","emailValidation","minLengthValidation","AddUserForm","props","setIsVisibleModal","setReloadUsers","userData","setUserData","addUser","name","lastName","email","password","role","message","repeatPassword","accessToken","then","response","catch","err","AddForm","Option","formValid","setFormValid","inputValidation","e","type","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Form, Input, Select, Button, Row, Col, notification } from \"antd\";\r\nimport {\r\n  UserAddOutlined,\r\n  LockOutlined,\r\n  MailOutlined,\r\n} from \"../../../../node_modules/@ant-design/icons\";\r\nimport { singUpAdminApi } from \"../../../api/user\";\r\nimport { getAccessTokenApi } from \"../../../api/auth\";\r\nimport {\r\n  emailValidation,\r\n  minLengthValidation,\r\n} from \"../../../utils/formValidation\";\r\n\r\nimport \"./AddUserForm.scss\";\r\n\r\nexport default function AddUserForm(props) {\r\n  const { setIsVisibleModal, setReloadUsers } = props;\r\n  const [userData, setUserData] = useState({});\r\n\r\n  const addUser = () => {\r\n    if (\r\n      !userData.name ||\r\n      !userData.lastName ||\r\n      !userData.email ||\r\n      !userData.password ||\r\n      !userData.role\r\n    ) {\r\n      notification[\"error\"]({\r\n        message: \"Todos los campos son obligatorios.\",\r\n      });\r\n    } else if (userData.password !== userData.repeatPassword) {\r\n      notification[\"error\"]({\r\n        message: \"Las contrase単as deben ser iguales.\",\r\n      });\r\n      \r\n    } else {\r\n      const accessToken =  getAccessTokenApi();\r\n\r\n      singUpAdminApi(accessToken, userData)\r\n      .then(response => {\r\n          notification[\"success\"]({\r\n            message: response\r\n          \r\n          })\r\n          setIsVisibleModal(false);\r\n          setReloadUsers(true);\r\n          setUserData({});\r\n        })\r\n        .catch((err) => {\r\n          notification[\"error\"]({ message: err });\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"add-user-form\">\r\n      <AddForm\r\n        userData={userData}\r\n        setUserData={setUserData}\r\n        addUser={addUser}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AddForm(props) {\r\n  const { userData, setUserData, addUser } = props;\r\n  const { Option } = Select;\r\n\r\n  const [formValid, setFormValid] = useState({\r\n    email: false,\r\n    password: false,\r\n    repeatPassword: false,\r\n  });\r\n\r\n  const inputValidation = (e) =>{\r\n    const {type, name} = e.target;\r\n\r\n    if(type ===\"email\"){\r\n      setFormValid({\r\n        ...formValid,\r\n        [name]: emailValidation(e.target)\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Form className=\"form-add\" onFinish={addUser}>\r\n      <Row gutter={24}>\r\n        <Col span={12}>\r\n          <Form.Item>\r\n            <Input\r\n              prefix={<UserAddOutlined />}\r\n              placeholder=\"Nombre\"\r\n              value={userData.name}\r\n              onChange={(e) => {\r\n                inputValidation\r\n                setUserData({\r\n                  ...userData,\r\n                  name: e.target.value,\r\n                });\r\n              }}\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={12}>\r\n          <Form.Item>\r\n            <Input\r\n              prefix={<UserAddOutlined />}\r\n              placeholder=\"Apeliido\"\r\n              value={userData.lastName}\r\n              onChange={(e) => {\r\n                setUserData({\r\n                  ...userData,\r\n                  lastName: e.target.value,\r\n                });\r\n              }}\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={24}>\r\n        <Col span={12}>\r\n          <Form.Item>\r\n            <Input\r\n              prefix={<MailOutlined />}\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              value={userData.email}\r\n              onChange={(e) => {\r\n                setUserData({\r\n                  ...userData,\r\n                  email: e.target.value,\r\n                });\r\n              }}\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={12}>\r\n          <Form.Item>\r\n            <Select\r\n              placeholder=\"Selecciona un rol\"\r\n              onChange={(e) => {\r\n                setUserData({\r\n                  ...userData,\r\n                  role: e,\r\n                });\r\n              }}\r\n              value={userData.role}\r\n            >\r\n              <Option value=\"admin\">Administrador</Option>\r\n              <Option value=\"editor\">Editor</Option>\r\n              <Option value=\"reviewer\">Revisor</Option>\r\n            </Select>\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={24}>\r\n        <Col span={12}>\r\n          <Form.Item>\r\n            <Input\r\n              type=\"password\"\r\n              prefix={<LockOutlined />}\r\n              placeholder=\"Contrase単a\"\r\n              value={userData.password}\r\n              onChange={(e) => {\r\n                setUserData({\r\n                  ...userData,\r\n                  password: e.target.value,\r\n                });\r\n              }}\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={12}>\r\n          <Form.Item>\r\n            <Input\r\n              type=\"password\"\r\n              prefix={<LockOutlined />}\r\n              placeholder=\"Repita su contrase単a\"\r\n              value={userData.repeatPassword}\r\n              onChange={(e) => {\r\n                setUserData({\r\n                  ...userData,\r\n                  repeatPassword: e.target.value,\r\n                });\r\n              }}\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Form.Item>\r\n        <Button type=\"primary\" htmlType=\"submit\" className=\"btn-submit\">\r\n          Crear Usuario\r\n        </Button>\r\n      </Form.Item>\r\n    </Form>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}